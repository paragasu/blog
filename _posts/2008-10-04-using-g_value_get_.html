---
layout: post
title: Using g_value_get_*
date: 2008-10-04 00:39:28.000000000 +08:00
type: post
published: true
status: publish
categories:
- gtk
tags:
- GValue
- g_value_get_float
- g_value_get_int
meta:
  _edit_last: '5225680'
author:
  login: paragasu
  email: paragasu@gmail.com
  display_name: paragasu
  first_name: ''
  last_name: ''
---
<p>using GValue related function is quite tricky. It is not working if you do<br />
<code><br />
GdaDataModel *dm;<br />
gint i;<br />
i = g_value_get_int ( gda_data_model_get_value_at (dm, 0, 0));<br />
</code></p>
<p>For upcomming Version 4.0 (the main difference is at GdaDataModel API)</p>
<p>GdaDataModel *model;<br />
const GValue *integer;<br />
GError *error = NULL;</p>
<p>integer = gda_value_new (G_TYPE_INT);<br />
integer = gda_data_model_get_value_at  (model, 0, 0, &amp;error);</p>
<p>/* All values in a Data Model must be unmodificable then use const GValue, this<br />
will avoid compilation warnings */</p>
<p>Or can use (gda_value_new makes this for you :-)<br />
integer = g_new0 (GValue. 1);<br />
g_value_init (inteteger, G_TYPE_INT);</p>
<p>thank to Daniel Espinosa </p>
